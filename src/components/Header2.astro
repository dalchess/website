---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import SocialMediaIcon from './SocialMediaIcon.astro';
import {
  Astronav,
  MenuItems,
  MenuIcon,
  Dropdown,
  DropdownItems,
  DropdownSubmenu,
} from "astro-navbar";
---

<header>
  <Astronav closeOnClick>
    <link href="/website/" rel="icon" type="image/svg+xml" href="/favicon.ico" />

    <div class="hidden-lg">
      <MenuIcon class="menu-icon" />
    </div>
    <nav>
      <a id="logo" href="/website"><img src="/website//logo.png" alt="logo" width="70px" /></a>
      <div class="internal-links">
        <MenuItems class="hidden lg">
          <div>
            <a href="/website/">Home</a>
          </div>
          <div>
            <a href="/website/tournaments">Tournaments</a>
          </div>
          <!-- <HeaderLink href="/blog">Blog</HeaderLink> -->
          <!--<HeaderLink href="/join">Join Us</HeaderLink> -->

          <!--<HeaderLink href="/website/contact">Contact Us</HeaderLink> -->
          <Dropdown class="group">
            <a class="flex items-center">
              <div class="hov"> Improve
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="custom-svg">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                </svg>
              </div>
            </a>

            <div class="custom-dropdown">
              <ul>
                <li>
                  <a href="/website/news">Library</a>
                </li>
                <li>
                  <a href="/website/tournaments">Socials</a>
                </li>
                <li>
                </li>
              </ul>
            </div>
          </Dropdown>
          <div>
            <a href="/website/news">News</a>
          </div>
          <div>
            <a href="/website/about">About</a>
          </div>
        </div>
      </nav>
    </MenuItems>
  </Astronav>
  <!-- Toggle button for internal links -->
  <button id="toggleInternalLinks" class="mobile-toggle-button">Toggle Links</button>
</header>

<style>
  /* ... (previous styles) */
  .custom-svg {
    width: 0.75rem;
    height: 0.75rem;
    margin-top: 0.125rem;
    transform: rotate(0);
    transition: transform 0.3s ease;
    stroke-width: 3;
    stroke: #000;
  }

  .group-open .custom-svg {
    transform: rotate(180deg);
  }
  header {
    margin: 0;
    padding: 0 1em;
    background:linear-gradient(90deg, #000000 0%, #FAC800 100%);;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
    color: white;
  }
  #logo{
    all: initial; 
  }
  .custom-dropdown {
    position: absolute; 
    background-color: #fff;
    top: 5rem; 
    width: 8rem; 
    border: 1px solid #ccc; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
    border-radius: 0.25rem;
    display: none;
  }
  .custom-dropdown li {
  }
  .group:hover .custom-dropdown {
    display: block;
  }
  .group{
    padding: 0  ;
    margin: 0;
  }
  .custom-dropdown ul {
    list-style: none;
    padding: 0;
  }

  .custom-dropdown li {
    margin-bottom: 0.5rem;
  }

  .custom-dropdown a {
    text-decoration: none;
    color: #333; 
  }
  h2 {
    margin: 0;
    font-size: 1em;
    color: white;
  }
  .hidden-lg {
    display: none;
  }
  .menu-icon {
    width: 1rem;
    height: 0.75rem;
    fill: #2d3748;
  }
  h2 a,
  h2 a.active {
    text-decoration: none;
  }
  nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-direction: row;
  }
  nav a {
    padding: 1em 0.5em;
    color: var(--black);
    border-bottom: 4px solid transparent;
    text-decoration: none;
    justify-content: column;
  }
  .internal-links{
    display: flex;
    
  }
  nav a.active {
    text-decoration: none;
    border-bottom-color: black;
    color: black;
  }

  .social-links,
  .social-links a {
    display: flex;
    
  }
   .social-links {
      display: none;
    }
  @media (max-width: 720px) {
    .social-links {
      display: none;
    }
    a{
      padding-top: 20rem;
    }
    nav {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-direction: column;
  }
  .custom-dropdown {
    position: absolute; 
    background-color: #fff;
    top: 10rem; 
    right: 50%;
    width: 5rem; 
    border: 1px solid #ccc; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
    border-radius: 0.25rem;
    display: none;
  }
  .internal-links{
    display: none;
  }
  }

  @media (max-width: 720px) {
    .mobile-toggle-button {
      display: block;
      text-align: center;
      background-color: #FAC800;
      color: #000;
      border: none;
      padding: 10px;
      margin: 10px;
      cursor: pointer;
    }
    
    .internal-links {
      display: none;
    }

    .internal-links.active {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
  }
</style>

<script>
 const toggleButton = document.getElementById("toggleInternalLinks");
  const internalLinks = document.querySelector(".internal-links");

  if (toggleButton && internalLinks) {
    toggleButton.addEventListener("click", () => {
      internalLinks.classList.toggle("active");
    });
  }
</script>
